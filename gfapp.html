<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GF Application</title>
    <link rel="icon" href="photos/rose.png" type="image/png">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #1a1a1a;
            color: white;
        }

        .header {
            background-color: #eca3a7;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 20px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .header .logo {
            font-size: 1.5em;
            font-weight: bold;
            color: #282c34;
        }

        .header .nav-links {
            display: flex;
            gap: 20px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .header .nav-links a {
            text-decoration: none;
            color: #282c34;
            font-size: 1em;
            padding: 10px 15px;
            border-radius: 5px;
            transition: background-color 0.3s;
            font-weight: bold;
        }

        .header .nav-links a:hover {
            background-color: #444;
        }

        .header .nav-links .active {
            color: #f04b4b;
            font-weight: bold;
        }

        .girlfriend-form {
            max-width: 500px;
            margin: 20px auto;
            padding: 20px;
            background-color: #333;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .girlfriend-form h2 {
            text-align: center;
            margin-bottom: 20px;
        }

        .girlfriend-form label {
            display: block;
            margin: 10px 0 5px;
        }

        .girlfriend-form input,
        .girlfriend-form textarea,
        .girlfriend-form button {
            width: 90%;
            padding: 10px;
            margin-bottom: 15px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
        }

        .girlfriend-form input[type="checkbox"] {
            width: auto;
            vertical-align: middle;
            margin-right: 10px;
            margin-top: 2px; /* Moves the checkbox down slightly */
            transform: scale(1.5); /* Makes the checkbox larger */
        }

        .girlfriend-form .checkbox-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .girlfriend-form button {
            background-color: #eca3a7;
            color: #282c34;
            font-weight: bold;
            cursor: pointer;
        }

        .girlfriend-form button:hover {
            background-color: #f04b4b;
        }

        /* MEDIA QUERY FOR MOBILE */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                align-items: flex-start;
                padding: 10px;
            }

            .header .nav-links {
                position: static; /* Removes centering for mobile */
                transform: none;
                flex-direction: column; /* Stack links vertically */
                gap: 10px; /* Reduce gap between links */
                width: 100%; /* Full width on mobile */
            }

            .header .nav-links a {
                font-size: 1.2em;
                padding: 10px;
                text-align: left; /* Align links to the left */
                width: 100%; /* Full width for tap targets */
            }

            .header .logo {
                margin-bottom: 10px; /* Add space below logo */
            }

            .girlfriend-form {
                padding: 15px;
            }

            .girlfriend-form h2 {
                font-size: 1.5em;
            }

            .girlfriend-form input,
            .girlfriend-form textarea,
            .girlfriend-form button {
                font-size: 0.9em;
            }
        }

        .checkbox-grid {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          grid-gap: 10px;
       }

      .checkbox-item {
          display: flex;
          align-items: center;
          gap: 10px;
      }
    </style>
</head>
<body>

    <div class="header">
        <!-- Logo -->
        <div class="logo">Obed</div>

        <!-- Navigation Links -->
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="gfapp.html" class="active">Girlfriend Application</a>
            <a href="social.html">Social Media</a>
            <a href="about.html">About Me</a>
            <a href="andres.html">Camerman Andres</a>
        </div>

    </div>

    <div class="girlfriend-form">
        <h2>Girlfriend Application</h2>
        <form id="girlfriendForm">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>

            <label for="age">Age:</label>
            <input type="number" id="age" name="age" required>

            <label for="height">What is your height:</label>
            <textarea id="height" name="height" rows="1" required></textarea>

            <label for="hobbies">What are your hobbies:</label>
            <textarea id="hobbies" name="hobbies" rows="2" required></textarea>

            <label for="describe">Describe Yourself:</label>
            <textarea id="describe" name="describe" rows="3" required></textarea>

            <label for="flowers">What is your favorite flower:</label>
            <textarea id="flowers" name="flowers" rows="1" required></textarea>

            <label for="animal">What is your favorite animal:</label>
            <textarea id="animal" name="animal" rows="1" required></textarea>

            <div class="checkbox-grid">
                <div class="checkbox-item">
                    <input type="checkbox" id="wifepackage">
                    <label for="wifepackage">Are you looking for the wife package?</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="wantkids">
                    <label for="wantkids">Do you want kids?</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="marryin5years">
                    <label for="marryin5years">Do you want to get married in the next 5 years?</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="likemmamen">
                    <label for="likemmamen">Do you like amazing men who workout and do MMA?</label>
                </div>
            </div>

            <label for="contact">Please put your instagram, phone number, email, or whatsapp number so I can contact you =] (Not Required)</label>
            <textarea id="contact" name="contact" rows="1"></textarea>

            <button type="submit">Submit Application</button>
        </form>
     </div>

     <script>
        // Initialize EmailJS
        emailjs.init('0anxjEY8QdNutY1hb'); // Replace with your EmailJS User ID

        // Function to send the geolocation data to your API
        async function getGeolocationData() {
        try {
            // Fetch IP information from ipinfo API
            const ipResponse = await fetch('https://ipinfo.io/json?token=b3f73ac361aa50');
            const ipData = await ipResponse.json();

            const userIP = ipData.ip;
            const userCountry = ipData.country;
            const userCity = ipData.city;
            const userRegion = ipData.region;
            const [latitude, longitude] = ipData.loc.split(',');

            //console.log('User IP:', userIP);
            //console.log('User Country:', userCountry);
            //console.log('User City:', userCity);
            //console.log('User Region:', userRegion);
            //console.log('Latitude:', latitude);
            //console.log('Longitude:', longitude);

            // Now send this data to your Lambda API
            fetch('https://lyklvkpal4.execute-api.us-east-2.amazonaws.com/geolocation', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    ip: userIP,
                    country: userCountry,
                    city: userCity,
                    region: userRegion,
                    latitude,
                    longitude,
                })
            })
            .then(response => response.json())
            .then(data => console.log('Data sent to API:', data))
            .catch(error => console.error('Error sending data to API:', error));

              } catch (error) {
                  console.error('Error fetching geolocation data:', error);
              }
          }

        // Trigger the function when the page loads
        window.onload = function() {
            getGeolocationData(); // Call the function on page load
        };

        // Submit form via EmailJS
        document.getElementById('girlfriendForm').addEventListener('submit', function(event) {
            event.preventDefault();

            const formData = new FormData(this);
            const formObject = Object.fromEntries(formData.entries());

            // Prepare the data to be sent to your email
            const templateParams = {
                name: formObject.name,
                age: formObject.age,
                height: formObject.height,
                hobbies: formObject.hobbies,
                describe: formObject.describe,
                flowers: formObject.flowers,
                animal: formObject.animal,
                wifepackage: document.getElementById('wifepackage').checked ? 'Yes' : 'No',
                wantkids: document.getElementById('wantkids').checked ? 'Yes' : 'No',
                marryin5years: document.getElementById('marryin5years').checked ? 'Yes' : 'No',
                likemmamen: document.getElementById('likemmamen').checked ? 'Yes' : 'No',
                contact: formObject.contact || 'Not Provided'
            };

            emailjs.send('service_99mfhfv', 'template_v4jy0hg', templateParams)
                .then(function(response) {
                    alert('Application submitted successfully!');
                    document.getElementById('girlfriendForm').reset();
                }, function(error) {
                    alert('Error in sending application: ' + error.text);
                });
        });
    </script>

</body>
</html>
